# 인터럽트란?
> 인터럽트의 개념과 종류에 대해 알아보자

## 인터럽트(Interrupt)
CPU가 수행 중인 작업을 방해해 잠시 중단하게 만드는 신호이다.    
CPU가 꼭 주목하거나 빨리 처리해야 할 다른 작업이 생겼을 때 발생한다.

## 인터럽트의 종류
### 동기 인터럽트(Synchronous Interrupts)
CPU에 의해 발생하는 인터럽트이다. CPU가 명령어를 수행하다 예상치 못한 상황에 마주쳤을 때, 즉 프로그래밍 상의 오류와 같은 예외 상황에 
마주쳤을 때 발생하는 인터럽트이다. 이런 특성 때문에 **예외(Exception)** 이라고 불린다.

### 예외의 종류
1. **폴트 Fault**     
   예외를 처리한 직후 예외가 발생한 명령어부터 실행을 재개하는 예외이다.
2. **트랩 Trap**       
   예외를 처리한 직후 예외가 발생한 명령어의 다음 명령어부터 실행을 재개하는 예외, 주로 디버깅할 때 사용한다.
3. **중단 Abort**    
   CPU가 실행 중인 프로그램을 강제로 중단시킬 수밖에 없는 심각한 오류를 발견했을 때 발생하는 예외이다.
4. **소프트웨어 인터럽트 Software Interrupt**    
   시스템 호출이 발생했을 때 나타난다.

### 비동기 인터럽트(Asynchronous Interrupts)
주로 입출력장치에 의해 발생하는 인터럽트로, **하드웨어 인터럽트**라고도 불린다. 예를 들어, CPU가 프린터에 입출력 작업을 명령하면 작업을 끝낸 프린터가 CPU에 완료
알림(인터럽트)을 보낸다. 이러한 입출력 작업은 속도가 느리기 때문에 효율을 위해 CPU가 다른 작업을 먼저 할 수 있도록 명령을 보내고 인터럽트를 
하는 방식을 사용한다.

### 하드웨어 인터럽트 처리 순서
1. 입출력장치에서 CPU에 **인터럽트 요청 신호**를 보낸다.
2. CPU는 실행 사이클이 끝나고 명령어를 인출하기 전 항상 인터럽트 여부를 확인한다.
3. CPU는 인터럽트 요청을 확인하고 **인터럽트 플래그**를 통해 현재 인터럽트를 받아들일 수 있는지 여부를 확인한다.
4. 인터럽트를 받아들일 수 있다면 CPU는 지금까지의 작업(pc..)을 메모리의 스택 영역에 백업한다.
5. CPU는 **인터럽트 벡터**를 참조하여 **인터럽트 서비스 루틴**을 실행한다.
6. 인터럽트 서비스 루틴 실행이 끝나면 `4`에서 백업해 둔 작업을 복구하여 실행을 재개한다.

> `인터럽트 요청 신호` : 끼어들어도 되나요? 하고 CPU에 물어보는 것    
> `인터럽트 플래그` : 플래그 레지스터에 있는 플래그, 하드웨어 인터럽트를 받을지 결정한다. CPU가 중요한 작업을 처리해야 하거나 어떤 방해도
> 받지 않아야 한다면 인터럽트 플래그는 불가능으로 설정된다. 인터럽트 플래그가 '불가능'으로 설정되어 있다면 해당 인터럽트는 무시한다.    
> `인터럽트 서비스 루틴` : CPU가 인터럽트 요청을 받아들였을 때 실행하는 인터럽트 처리 프로그램이다. 어떤 인터럽트가 발생했을 때
> 해당 인터럽트를 어떻게 처리하고 작동해야 할지에 대한 정보로 이루어진 프로그램이다.    
> `인터럽트 벡터` : 각기 다른 인터럽트 서비스 루틴을 구분하기 위한 정보이다. 인터럽트 벡터를 알면 인터럽트 서비스 루틴의 시작 
> 주소를 알 수 있다.