# 프로세스와 스레드의 차이
> 프로세스와 스레드의 차이, IPC에 대해 알아보자

## 스레드(Thread)
프로세스를 구성하는 실행의 단위, 하나의 프로세스는 여러 개의 스레드를 가질 수 있다. 
스레드를 사용하면 하나의 프로세스에서 여러 부분을 동시에 실행할 수 있다.

<img src="https://github.com/chunghye98/CS-Archive/assets/57451700/07d57404-6b84-45d2-b91a-9e93128aa159" width="30%">

### 스레드의 구성 요소
프로세스 내에서 각기 다른 스레드 ID, pc를 포함한 레지스터 값, 스택으로 구성된다. 이 값들을 가지고 있기 때문에 스레드마다 각기 다른 코드를
실행할 수 있다. 스레드는 독립적으로 함수를 호출할 수 있어야 하기 때문에 스택만 따로 할당 받는다.

<img src="https://github.com/chunghye98/CS-Archive/assets/57451700/eb766e62-4cf3-425d-9bfb-c29f984592d5" width="30%">

스레드는 실행에 필요한 최소한의 정보만을 유지한 채 **프로세스 자원을 공유**하며 실행된다. 최근 많은 운영체제는 CPU에 처리할 작업을 전달할 때 
프로세스가 아닌 스레드 단위로 전달한다.

## 멀티프로세스와 멀티스레드
### 멀티프로세스(Multiprocess)
여러 프로세스를 동시에 실행하는 것을 의미한다.    
같은 작업을 하는 프로세스 여러 개를 실행하면 메모리에 같은 프로세스가 통째로 여러 개 적재된다. 같은 프로그램을 실행하기 위해 메모리에 동일한 내용들이 중복해서
존재하기 때문에 낭비라고 볼 수 있다.     
하나의 프로세스에 문제가 생겨도 다른 프로세스에는 지장이 가지 않는다는 장점을 가진다.


### 멀티스레드(Multithread)
여러 스레드로 프로세스를 동시에 실행하는 것을 의미한다.    
여러 프로세스를 병행 실행하는 것보다 메모리를 더 효율적으로 사용할 수 있다. 자원을 공유하기 때문에 서로 협력과 통신에 유리하다.   
하나의 스레드에 문제가 생기면 프로세스 전체에 문제가 생길 수 있다는 단점을 가진다.

## 프로세스 간 통신(Inter Process Communication, IPC)
프로세스 간의 자원을 공유하고 데이터를 주고 받는 것을 의미한다. 프로세스는 커널이 제공하는 IPC 장비를 이용해 IPC가 가능하다.

### IPC 종류
1. **파이프 Pipes**    
   한 프로세스의 출력을 다른 프로세스의 입력으로 연결한다. 단방향 통신을 지원하며 주로 부모-자식 프로세스 간에 사용된다.
2. **이름 있는 파이프 Named Pipes 또는 FIFO**    
   파일 시스템 내에 이름을 가지고 있어, 관련이 없는 프로세스 간에도 데이터 교환이 가능하다. 양방향 통신이 가능하다.
3. **메시지 큐 Message Queue**    
   프로세스 간에 메시지를 저장하는 큐를 사용하여 데이터를 전달한다. 비동기적으로 메시지를 주고 받을 수 있으며, 프로세스 간 동기화 없이도 
   통신이 가능하다.
4. **세마포어 Semaphores**    
    주로 동기화 목적으로 사용되며, 공유 자원에 대한 접근을 제어한다.
5. **공유 메모리 Shared Memory**    
   둘 이상의 프로세스가 메모리의 같은 부분을 접근할 수 있다. 동시 접근을 관리하기 위한 동기화 메커니즘이 필요하다.
6. **소켓 Sockets**
   네트워크 통신을 위해 사용되는 기술로, 같은 시스템 내의 IPC 뿐만 아니라 네트워크를 통해 다른 시스템의 프로세스와도 통신 가능하다.

## 참고
혼자 공부하는 컴퓨터구조 + 운영체제  
[tech-interview-for-developer](https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Operating%20System/Process%20vs%20Thread.md)
